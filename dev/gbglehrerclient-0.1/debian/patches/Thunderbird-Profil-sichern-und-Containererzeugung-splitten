Description: <short summary of the patch>
 TODO: Put a short summary on the line above and replace this paragraph
 with a longer explanation of this change. Complete the meta-information
 with other relevant fields (see below for details). To make it easier, the
 information below has been extracted from the changelog. Adjust it or drop
 it.
 .
 gbglehrerclient (0.1-4) focal; urgency=medium
 .
   * Initial release (Closes: #nnnn)  <nnnn is the bug number of your ITP>
Author: Felix Schoppe <felix.schoppe@gbg-seelze.eu>

---
The information above should follow the Patch Tagging Guidelines, please
checkout http://dep.debian.net/deps/dep3/ to learn about the format. Here
are templates for supplementary fields that you might want to add:

Origin: <vendor|upstream|other>, <url of original patch>
Bug: <url in upstream bugtracker>
Bug-Debian: https://bugs.debian.org/<bugnumber>
Bug-Ubuntu: https://launchpad.net/bugs/<bugnumber>
Forwarded: <no|not-needed|url proving that it has been forwarded>
Reviewed-By: <name and email of someone who approved the patch>
Last-Update: 2020-09-21

--- /dev/null
+++ gbglehrerclient-0.1/scripts/EncryptPrivateContainer.sh
@@ -0,0 +1,13 @@
+#!/bin/sh
+
+SAFE=/opt/PrivateContainer
+CRYPTNAME=PrivateContainer
+MNT=/home/gbg/PrivateContainer
+FS=ext4
+
+#echo "Der private Datencontainer wird angelegt. Bitte hab etwas Geduld. Dieser Vorgang dauert etwa 5 Minuten."
+#dd if=/dev/urandom of=$SAFE bs=1M count=60000 status=progress
+echo "Jetzt wird der Container verschlÃ¼sselt!"
+cryptsetup -c aes-xts-plain64 -s 512 -h sha512 -y luksFormat $SAFE
+cryptsetup luksOpen $SAFE $CRYPTNAME
+mkfs.ext4 /dev/mapper/$CRYPTNAME
--- gbglehrerclient-0.1.orig/scripts/MountPrivateContainer.sh
+++ gbglehrerclient-0.1/scripts/MountPrivateContainer.sh
@@ -22,3 +22,12 @@ fi
 /sbin/cryptsetup luksOpen $LOOPDEV $CRYPTNAME
 /bin/mount -t $FS /dev/mapper/$CRYPTNAME $MNT
 chown -R gbg:gbg $MNT
+
+MAIL=/home/gbg/PrivateContainer/.thunderbird
+
+if [ -d $MAIL ]; then
+	echo "Thunderbird-Profil existiert und wird verlinkt."
+	ln -s $MAIL /home/gbg/
+else
+	echo "Thunderbird-Profil existiert nicht!"
+fi
--- gbglehrerclient-0.1.orig/scripts/UMountPrivateContainer.sh
+++ gbglehrerclient-0.1/scripts/UMountPrivateContainer.sh
@@ -11,6 +11,19 @@ if [ "`losetup -a | grep -c "$SAFE"`" !=
 	exit
 fi
 
+MAIL=/home/gbg/.thunderbird
+if [ -e "$MAIL" ]; then
+    if [ ! -L "$MAIL" ]
+    then
+        echo "Thunderbird-Profil sichern."
+        mv $MAIL $MNT
+    else
+        echo "Das Thunderbird-Profil muss nicht gesichert werden."
+    fi
+else
+  echo "=> Es existiert kein Thunderbird-Profil."
+fi
+
 /bin/umount $MNT
 /sbin/cryptsetup luksClose $CRYPTNAME
 /sbin/losetup -d $LOOPDEV
--- gbglehrerclient-0.1.orig/sudoers.d/sudogbgclient
+++ gbglehrerclient-0.1/sudoers.d/sudogbgclient
@@ -6,3 +6,4 @@ gbg ALL = NOPASSWD: /usr/bin/nutzerdaten
 gbg ALL = NOPASSWD: /usr/bin/CreatePrivateContainer.sh
 gbg ALL = NOPASSWD: /usr/bin/MountPrivateContainer.sh
 gbg ALL = NOPASSWD: /usr/bin/UMountPrivateContainer.sh
+gbg ALL = NOPASSWD: /usr/bin/EncryptPrivateContainer.sh
